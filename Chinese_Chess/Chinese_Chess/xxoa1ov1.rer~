#include "Game.h"

Game::Game()
{
	for (int i = 0; i <= 8; i++) {
		for (int j = 9; j >= 0; j--) {
			if (i == 0) {
				if (j == 0) {
					gridline[i][j] = "ùã ";
				}
				else if (j == 9) {
					gridline[i][j] = "ùİ ";
				}
				else {
					gridline[i][j] = "ùø ";
				}
			}
			else if (i == 8) {
				if (j == 0) {
					gridline[i][j] = "ùå ";
				}
				else if (j == 9) {
					gridline[i][j] = "ùß ";
				}
				else {
					gridline[i][j] = "ùø ";
				}
			}
			else {
				if (j == 0 || j == 9) {
					gridline[i][j] = "ùù";
				}
				else if (j == 4) {
					gridline[i][j] = "¢s ";
				}
				else if (j == 5) {
					gridline[i][j] = "¢r ";
				}
				else {
					gridline[i][j] = "¢q ";
				}
			}
		}
	}

	
}

void Game::drawInterface()
{
	int j = 9;
	cout << "1 2 3 4 5 6 7 8 9" << endl << " j" << endl << "¡ô" << endl << " a" << endl << endl;
	for (; j >= 5; j--) {
		if (j != 9) {
			for (int k = 0; k <= 8; k++) {
				if (k == 0 || k == 8) {
					cout << "ùø";
				}
				else {
					cout << "¢x";
				}

				if ((k == 4 && j == 8) || (k == 3 && j == 7)) {
					cout << " ¢¬ ";
				}
				else if ((k == 3 && j == 8) || (k == 4 && j == 7)) {
					cout << " ¢­ ";
				}
				else {
					cout << "   ";
				}
			}
			cout << endl;
		}

		for (int i = 0; i <= 8; i++) {
			if (board[i][j] == 15) {
				cout << gridline[i][j];
			}
			else {
				cout << board[i][j];
				SetConsoleTextAttribute(GetStdHandle(STD_OUTPUT_HANDLE), FOREGROUND_INTENSITY | FOREGROUND_RED | FOREGROUND_GREEN | FOREGROUND_BLUE);
			}
			if (j == 9 && i != 8) {
				cout << "ùù ";
			}
			else if (j != 9 && i != 8) {
				cout << "¡X";
			}
		}
		cout << endl;
	}

	cout << "ùø        ·¡ªe        º~¬É       ùø " << endl;

	for (; j >= 0; j--) {
		for (int i = 0; i <= 8; i++) {
			if (board[i][j] == 15) {
				cout << gridline[i][j];
			}
			else {

				cout << pieces[config[i][j]];
				SetConsoleTextAttribute(GetStdHandle(STD_OUTPUT_HANDLE), FOREGROUND_INTENSITY | FOREGROUND_RED | FOREGROUND_GREEN | FOREGROUND_BLUE);
			}
			if (j == 0 && i != 8) {
				cout << "ùù ";
			}
			else if (j != 0 && i != 8) {
				cout << "¡X";
			}
		}
		if (j != 0) {
			cout << endl;
			for (int k = 0; k <= 8; k++) {
				if (k == 0 || k == 8) {
					cout << "ùø ";
				}
				else {
					cout << "¢x ";
				}
				if ((k == 4 && j == 2) || (k == 3 && j == 1)) {
					cout << "¢¬ ";
				}
				else if ((k == 3 && j == 2) || (k == 4 && j == 1)) {
					cout << "¢­ ";
				}
				else {
					cout << "  ";
				}
			}
		}
		cout << endl;
	}
	cout << endl << endl;
}

void Game::drawMenu(int)
{
}

void Game::drawDialog(string, int)
{
}

void Game::setPlayer(int newPlayer)
{
	player = newPlayer;
}

void Game::changePlayer()
{
	player = player ? 0 : 1;
}

int Game::getPlayer()
{
	return player;
}
